\hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world}{\section{aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World Class Reference}
\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world}\index{aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World@{aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World}}
}


Collaboration diagram for aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a341a4e23737407e4ad29d843ef2a3f1e}{\-\_\-\-\_\-init\-\_\-\-\_\-}
\item 
def \hyperlink{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a89733c73229863228e8d5b54e08c9695}{reset}
\item 
\hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a6930ae5e77cce98d804a7dd586c273ac}{def {\bfseries step}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a6930ae5e77cce98d804a7dd586c273ac}

\item 
def \hyperlink{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a8049a70fa9b03ff70a524b0284be3415}{update}
\item 
def \hyperlink{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a6b32eb349ea4c5d6d98eb19bcce7e106}{compute\-\_\-os\-\_\-imp\-\_\-ctrlr\-\_\-cmd}
\item 
def \hyperlink{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_ab9b4879944d382c3fcd272aed7323fd1}{compute\-\_\-os\-\_\-ctrlr\-\_\-cmd}
\item 
def \hyperlink{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a39c3f19a9be1cf34e371dfecfad0ea6b}{compute\-\_\-js\-\_\-ctrlr\-\_\-cmd}
\item 
\hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a87c53722b960a86b154864a65dc47595}{def {\bfseries on\-\_\-shutdown}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a87c53722b960a86b154864a65dc47595}

\item 
\hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_ab9467fa43c4264629cb761e7b1a73355}{def {\bfseries get\-\_\-force\-\_\-torque\-\_\-details}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_ab9467fa43c4264629cb761e7b1a73355}

\item 
def \hyperlink{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a4be9e3a0649764ceffed4d762db59b57}{draw\-\_\-trajectory}
\item 
\hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a5c7526228d08176bcd2797f6b6d57a1d}{def {\bfseries get\-\_\-observation}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a5c7526228d08176bcd2797f6b6d57a1d}

\item 
def \hyperlink{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_ae1ac8f9db87c00650b6e8764f8760bfa}{collect\-\_\-demo}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Peg in the hole environment that makes use of the bullet physics engine
\end{DoxyVerb}
 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a341a4e23737407e4ad29d843ef2a3f1e}{\index{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}!\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}}
\index{\-\_\-\-\_\-init\-\_\-\-\_\-@{\-\_\-\-\_\-init\-\_\-\-\_\-}!aml_playground::peg_in_hole::pih_worlds::bullet::pih_world::PIHWorld@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}}
\subsubsection[{\-\_\-\-\_\-init\-\_\-\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}def aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World.\-\_\-\-\_\-init\-\_\-\-\_\- (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{config}
\end{DoxyParamCaption}
)}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a341a4e23737407e4ad29d843ef2a3f1e}
\begin{DoxyVerb}Constructor of the class
Args: 
config:
dt : time step of the simulation
world_path : path to the URDF file depicting the world
peg_path: path to the URDF file depicting the peg to be inserted
hole_path: path to the URDF of a static body that has a hole
robot_path: path to the URDF file of the manipulator
ctrl_type: specify what types of control scheme is to be use to control the manipulator
\end{DoxyVerb}
 

\subsection{Member Function Documentation}
\hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_ae1ac8f9db87c00650b6e8764f8760bfa}{\index{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}!collect\-\_\-demo@{collect\-\_\-demo}}
\index{collect\-\_\-demo@{collect\-\_\-demo}!aml_playground::peg_in_hole::pih_worlds::bullet::pih_world::PIHWorld@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}}
\subsubsection[{collect\-\_\-demo}]{\setlength{\rightskip}{0pt plus 5cm}def aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World.\-collect\-\_\-demo (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{demo\-\_\-draw\-\_\-interwal = {\ttfamily 10}}
\end{DoxyParamCaption}
)}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_ae1ac8f9db87c00650b6e8764f8760bfa}
\begin{DoxyVerb}This function is for collecting the demo trajectory. It works with the help of mouse events.
To record a demo, click the left button on the mouse and drag the end effector of the manipulator.
To stop and save the recorded demo, simply release the left button press.
Args: 
demo_draw_interwal = this parameter decides at what interwal the plot needs to be updated
\end{DoxyVerb}
 \hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a39c3f19a9be1cf34e371dfecfad0ea6b}{\index{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}!compute\-\_\-js\-\_\-ctrlr\-\_\-cmd@{compute\-\_\-js\-\_\-ctrlr\-\_\-cmd}}
\index{compute\-\_\-js\-\_\-ctrlr\-\_\-cmd@{compute\-\_\-js\-\_\-ctrlr\-\_\-cmd}!aml_playground::peg_in_hole::pih_worlds::bullet::pih_world::PIHWorld@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}}
\subsubsection[{compute\-\_\-js\-\_\-ctrlr\-\_\-cmd}]{\setlength{\rightskip}{0pt plus 5cm}def aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World.\-compute\-\_\-js\-\_\-ctrlr\-\_\-cmd (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{js\-\_\-set\-\_\-point, }
\item[{}]{Kp}
\end{DoxyParamCaption}
)}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a39c3f19a9be1cf34e371dfecfad0ea6b}
\begin{DoxyVerb}This function computes the control command for the manipulator 
in the joint space
Args:
js_set_point = desired joint setpoint
Kp = gains of the system


for the inbuilt function:
    targetVelocities = optional
    linkIndices = to which force has to be applied = joint indices
    controlMode = pb.POSITION_CONTROL, pb.TORQUE_CONTROL, pb.VELOCITY_CONTROL
\end{DoxyVerb}
 \hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_ab9b4879944d382c3fcd272aed7323fd1}{\index{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}!compute\-\_\-os\-\_\-ctrlr\-\_\-cmd@{compute\-\_\-os\-\_\-ctrlr\-\_\-cmd}}
\index{compute\-\_\-os\-\_\-ctrlr\-\_\-cmd@{compute\-\_\-os\-\_\-ctrlr\-\_\-cmd}!aml_playground::peg_in_hole::pih_worlds::bullet::pih_world::PIHWorld@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}}
\subsubsection[{compute\-\_\-os\-\_\-ctrlr\-\_\-cmd}]{\setlength{\rightskip}{0pt plus 5cm}def aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World.\-compute\-\_\-os\-\_\-ctrlr\-\_\-cmd (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{os\-\_\-set\-\_\-point, }
\item[{}]{Kp}
\end{DoxyParamCaption}
)}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_ab9b4879944d382c3fcd272aed7323fd1}
\begin{DoxyVerb}This function computes the control command for the manipulator
in the operational space
Args: 
os_set_point = desired operational space set point
Kp =  gains in the operational space
\end{DoxyVerb}
 \hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a6b32eb349ea4c5d6d98eb19bcce7e106}{\index{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}!compute\-\_\-os\-\_\-imp\-\_\-ctrlr\-\_\-cmd@{compute\-\_\-os\-\_\-imp\-\_\-ctrlr\-\_\-cmd}}
\index{compute\-\_\-os\-\_\-imp\-\_\-ctrlr\-\_\-cmd@{compute\-\_\-os\-\_\-imp\-\_\-ctrlr\-\_\-cmd}!aml_playground::peg_in_hole::pih_worlds::bullet::pih_world::PIHWorld@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}}
\subsubsection[{compute\-\_\-os\-\_\-imp\-\_\-ctrlr\-\_\-cmd}]{\setlength{\rightskip}{0pt plus 5cm}def aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World.\-compute\-\_\-os\-\_\-imp\-\_\-ctrlr\-\_\-cmd (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{os\-\_\-set\-\_\-point, }
\item[{}]{Kp}
\end{DoxyParamCaption}
)}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a6b32eb349ea4c5d6d98eb19bcce7e106}
\begin{DoxyVerb}This function computes the operation space impedance controller
according to the slides of Morteza
\end{DoxyVerb}
 \hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a4be9e3a0649764ceffed4d762db59b57}{\index{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}!draw\-\_\-trajectory@{draw\-\_\-trajectory}}
\index{draw\-\_\-trajectory@{draw\-\_\-trajectory}!aml_playground::peg_in_hole::pih_worlds::bullet::pih_world::PIHWorld@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}}
\subsubsection[{draw\-\_\-trajectory}]{\setlength{\rightskip}{0pt plus 5cm}def aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World.\-draw\-\_\-trajectory (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{point\-\_\-1, }
\item[{}]{point\-\_\-2, }
\item[{}]{colour = {\ttfamily \mbox{[}1}, }
\item[{}]{line\-\_\-width = {\ttfamily 4.5}}
\end{DoxyParamCaption}
)}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a4be9e3a0649764ceffed4d762db59b57}
\begin{DoxyVerb}This function adds colour line between points point_1 and point_2 in the bullet
Args:
point_1: starting point => [x,y,z]
point_2: ending_point => [x,y,z]
\end{DoxyVerb}
 \hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a89733c73229863228e8d5b54e08c9695}{\index{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}!reset@{reset}}
\index{reset@{reset}!aml_playground::peg_in_hole::pih_worlds::bullet::pih_world::PIHWorld@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}}
\subsubsection[{reset}]{\setlength{\rightskip}{0pt plus 5cm}def aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World.\-reset (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{noise = {\ttfamily 0.01}}
\end{DoxyParamCaption}
)}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a89733c73229863228e8d5b54e08c9695}
\begin{DoxyVerb}This function is very necessary for the RL setup
the first part resets the peg to the oiriginal part
the secodn part reset the manipulators to the original part added by an optional noise
Args:
noise = coefficient of the gain command
\end{DoxyVerb}
 \hypertarget{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a8049a70fa9b03ff70a524b0284be3415}{\index{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}!update@{update}}
\index{update@{update}!aml_playground::peg_in_hole::pih_worlds::bullet::pih_world::PIHWorld@{aml\-\_\-playground\-::peg\-\_\-in\-\_\-hole\-::pih\-\_\-worlds\-::bullet\-::pih\-\_\-world\-::\-P\-I\-H\-World}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}def aml\-\_\-playground.\-peg\-\_\-in\-\_\-hole.\-pih\-\_\-worlds.\-bullet.\-pih\-\_\-world.\-P\-I\-H\-World.\-update (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{ctrl\-\_\-cmd}
\end{DoxyParamCaption}
)}}\label{classaml__playground_1_1peg__in__hole_1_1pih__worlds_1_1bullet_1_1pih__world_1_1_p_i_h_world_a8049a70fa9b03ff70a524b0284be3415}
\begin{DoxyVerb}This function updates the control commands for the PIH world
the only entity that can be controlled is the manipulator
Args: 
ctrl_cmd = np.array, dimension: num_joint_states x 1
\end{DoxyVerb}
 

The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
aml\-\_\-playground/src/aml\-\_\-playground/peg\-\_\-in\-\_\-hole/pih\-\_\-worlds/bullet/pih\-\_\-world.\-py\end{DoxyCompactItemize}
